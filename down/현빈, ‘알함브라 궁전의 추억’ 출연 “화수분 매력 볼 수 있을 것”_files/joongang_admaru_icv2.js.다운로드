var admaru_c={u:{o:"admaru_incontentVideo",adsManager:"",adsLoader:"",i:"",t:"",m:"550px",_:"310px",status:"no_play",s:!1,tags:[],l:0,played:!1,paused:!1,p:0,g:2,v:3,h:0,j:"",A:100,k:1,V:"admaru_videos_o",P:0}},uA=window.navigator.userAgent,isIE=/msie\s|trident\/|edge\//i.test(uA)&&!!(document.uniqueID||document.documentMode||window.B||window.I);function init(){jQuery("#"+admaru_c.u.o).css({width:"550","max-width":"640",height:"310",display:"none","z-index":"990","background-color":"#dddddd",overflow:"hidden",margin:"0 auto","margin-top":"36px"}),jQuery("#"+admaru_c.u.o).before("<div id='admaru_anchor' style='position:relative'></div>"),jQuery("#"+admaru_c.u.o).append("<div id='admaru_videos_o' style='width:550px; height:310px; position:relative; display:block; z-index:991;'></div>"),jQuery("#"+admaru_c.u.V).append("<video id='admaru_video_o' style='width:550px; height:310px; display:none; opacity:0;' autoplay playsinline muted></video>"),hideVideoAd()}function createAdDisplayContainer(){admaru_c.u.i=new google.ima.AdDisplayContainer(document.getElementById("admaru_videos_o"),admaru_c.u.t)}function getTags(){return["https://pubads.g.doubleclick.net/gampad/ads?sz=640x480|640x360&iu=/1249652/Joins_OSV_Desktop_AS&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]","https://pubads.g.doubleclick.net/gampad/ads?iu=/21708452809/Joins_OSV_Desktop_OM1_PT&description_url=https%3A%2F%2Fjoongang.joins.com&env=vp&impl=s&correlator=&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=640x360&unviewed_position_start=1","https://pubads.g.doubleclick.net/gampad/ads?sz=640x480|640x360&iu=/1249652/Joins_OSV_Desktop_OM2&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]","https://pubads.g.doubleclick.net/gampad/ads?sz=640x480|640x360&iu=/1249652/Joins_OSV_Desktop_OM3&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]","https://pubads.g.doubleclick.net/gampad/ads?sz=640x480|640x360&iu=/1249652/Joins_OSV_Desktop_PS&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]"]}function requestAds(a){admaru_c.u.t=document.getElementById("admaru_video_o"),createAdDisplayContainer(),admaru_c.u.adsLoader=new google.ima.AdsLoader(admaru_c.u.i),admaru_c.u.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,onAdsManagerLoaded,!1),admaru_c.u.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError,!1);admaru_c.u.t.onended=function(){admaru_c.u.adsLoader.contentComplete()};var r=new google.ima.AdsRequest;r.adTagUrl=a,r.linearAdSlotWidth=admaru_c.u.m,r.linearAdSlotHeight=admaru_c.u._,r.nonLinearAdSlotWidth=admaru_c.u.m,r.nonLinearAdSlotHeight=admaru_c.u._,admaru_c.u.adsLoader.requestAds(r)}function onAdsManagerLoaded(a){var r=new google.ima.AdsRenderingSettings;r.q=!0,r.D=!0,admaru_c.u.adsManager=a.getAdsManager(admaru_c.u.t,r),admaru_c.u.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError),admaru_c.u.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,onAdEvent),admaru_c.u.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,onAdEvent),admaru_c.u.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,onAdEvent),admaru_c.u.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,onAdEvent);try{admaru_c.u.t.load(),admaru_c.u.i.initialize(),admaru_c.u.adsManager.init(admaru_c.u.m,admaru_c.u._,google.ima.ViewMode.NORMAL),admaru_c.u.adsManager.start()}catch(a){}}function onAdEvent(a){a.getAd();switch(a.type){case google.ima.AdEvent.Type.LOADED:BeforePlay();break;case google.ima.AdEvent.Type.STARTED:AfterPlay(),setProgress();break;case google.ima.AdEvent.Type.COMPLETE:AfterFinish();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:AfterFinish1()}}function onAdError(a){admaru_c.u.p<admaru_c.u.g-1&&admaru_c.u.l==parseInt(admaru_c.u.tags.length)-1?(admaru_c.u.l=0,admaru_c.u.p++):admaru_c.u.l++,admaru_c.u.adsLoader.destroy(),admaru_c.u.i.destroy(),jQuery("#"+admaru_c.u.V).find("div").remove(),jQuery("#"+admaru_c.u.V).find("a").remove(),admaru_c.u.t=null,admaru_c.u.T=null,admaru_c.u.C=null,isIE&&CollectGarbage(),admaru_c.u.l<admaru_c.u.tags.length?requestAds(admaru_c.u.tags[admaru_c.u.l]):(admaru_c.u.P<=admaru_c.u.v-admaru_c.u.g?(admaru_c.u.l=0,setTimeout(function(){requestAds(admaru_c.u.tags[admaru_c.u.l])},1e4)):swapButtons(),admaru_c.u.P++)}function resize_array(a,r){for(var d=a.length,u=[],o=0,e=0;d>o;)o==r||(u[e]=a[o],e++),o++;return u}function setupUIForContent(){jQuery("#admaru_videos_o>div").css("margin","0 auto"),jQuery("#"+admaru_c.u.V).append("<div id='admaru_ui_bottom_o' style='display:none;position:absolute;bottom:0px;height:40px;width:100%;background: linear-gradient(to bottom, rgba(0,0,0,0) 5%, rgba(0,0,0,0.6));'></div>"),jQuery("#admaru_ui_bottom_o").append("<a id='admaru_logo_o' style='position:absolute;display:block;bottom:5px;left:5px;' href='https://www.admaru.com' target='_blank' ><img src='//ads.admaru.com/img/logo2.png' style='width:30px' /></a>"),jQuery("#admaru_ui_bottom_o").append("<a id='admaru_mute_o' style='position:absolute;display:block;bottom:5px;right:5px;'><img src='//ads.admaru.com/img/sound_on2.png' style='width:18px' /></a>"),jQuery("#admaru_ui_bottom_o").append("<a id='admaru_play_o' style='position:absolute;display:none;bottom:6px;left:50px;'><img src='//ads.admaru.com/img/play.png' style='width:11px' /></a>"),jQuery("#admaru_ui_bottom_o").append("<a id='admaru_pause_o' style='position:absolute;display:block;bottom:6px;left:50px;'><img src='//ads.admaru.com/img/pause.png' style='width:12px' /></a>"),jQuery("#admaru_ui_bottom_o").append("<div id='admaru_progress_wrap_o' style='display:block; position: absolute; bottom:12px !important;width:440px;height:1px;left:70px;background-color:#808080;font-family:serif !important;'><div id='admaru_progress_o' value='0' min='0' style='bottom:-2px;position:absolute;width:440px;'><div id='admaru_progress-bar_o' style='display:block;overflow:visible;background-color:white;height:5px;width:100%;'></div></div></div>")}function setProgress(){document.getElementById("admaru_video_o");var a=document.getElementById("admaru_progress_o"),r=document.getElementById("admaru_progress-bar_o"),d=0;void 0!==document.createElement("admaru_progress_o").max||a.setAttribute("data-state","fake"),document.addEventListener&&(admaru_c.u.duration=admaru_c.u.adsManager.getRemainingTime(),admaru_c.u.duration>0?a.setAttribute("max",admaru_c.u.adsManager.getRemainingTime()):(a.setAttribute("max","15"),admaru_c.u.duration=15),video_progress=setInterval(function(){a.getAttribute("max")||a.setAttribute("max",admaru_c.u.adsManager.getRemainingTime()),d=admaru_c.u.duration-admaru_c.u.adsManager.getRemainingTime(),r.style.width=Math.floor(d/admaru_c.u.duration*100)+"%"},10))}function BeforePlay(){admaru_c.u.played=!0,admaru_c.u.adsManager.setVolume(0),jQuery("#admaru_video_o").muted,swapButtons()}function AfterPlay(){admaru_c.u.status="yes_play",admaru_c.u.adsManager.setVolume(0),setupUIForContent(),jQuery("#"+admaru_c.u.o).css({height:admaru_c.u._,width:admaru_c.u.m}),jQuery("#"+admaru_c.u.o).slideDown({height:admaru_c.u._}),jQuery("#"+admaru_c.u.o).css("display","block"),jQuery("#"+admaru_c.u.V).css("display","block"),showVideoAd(),admaru_c.u.s=!0,jQuery("#admaru_mute_o").click(function(){volume=admaru_c.u.adsManager.getVolume(),0==volume?(admaru_c.u.adsManager.setVolume(1),jQuery("#admaru_mute_o img").attr("src","//ads.admaru.com/img/sound_off2.png")):1==volume&&(admaru_c.u.adsManager.setVolume(0),jQuery("#admaru_mute_o img").attr("src","//ads.admaru.com/img/sound_on2.png"))}),jQuery("#admaru_play_o, #admaru_pause_o").click(function(){1==admaru_c.u.played?(swapPlayButton(),admaru_c.u.adsManager.pause(),admaru_c.u.played=!1):(swapPlayButton(),admaru_c.u.adsManager.resume(),admaru_c.u.played=!0)}),document.getElementById("admaru_videos_o").addEventListener("mouseenter",function(a){jQuery(a.target).is("#admaru_videos_o")&&jQuery("#admaru_ui_bottom_o").fadeIn(300)}),document.getElementById("admaru_incontentVideo").addEventListener("mouseleave",function(a){jQuery(a.target);jQuery("#admaru_ui_bottom_o").fadeOut(300)}),jQuery("#admaru_skip_o").click(function(){AfterFinish1()})}function AfterFinish(){admaru_c.u.status="no_play",jQuery("#"+admaru_c.u.V).css("background-color","#000"),clearInterval(admaru_c.u.h),1!=admaru_c.u.l&&(admaru_c.u.adsManager.destroy(),jQuery("#"+admaru_c.u.V).slideUp(),jQuery("#"+admaru_c.u.o).slideUp(1500),hideVideoAd(),jQuery("#"+admaru_c.u.V).find("div","a").remove(),hideVideoAd()),admaru_c.u.played=!1,swapButtons()}function AfterFinish1(){"yes_play"==admaru_c.u.status?(admaru_c.u.adsManager.destroy(),admaru_c.u.status="no_play",jQuery("#"+admaru_c.u.V).css("background-color","#000"),jQuery("#"+admaru_c.u.V).slideUp(),hideVideoAd(),clearInterval(admaru_c.u.h),jQuery("#"+admaru_c.u.V).find("div","a").remove(),jQuery("#"+admaru_c.u.o).slideUp(1500),admaru_c.u.played=!1,swapButtons()):(jQuery("#"+admaru_c.u.V).find("div","a").remove(),requestAds(admaru_c.u.tags[++admaru_c.u.l]))}function swapPlayButton(){1==admaru_c.u.played?(jQuery("#admaru_play_o").css("display","block"),jQuery("#admaru_pause_o").css("display","none")):(jQuery("#admaru_play_o").css("display","none"),jQuery("#admaru_pause_o").css("display","block"))}function checkVisible(a,r){r=r||"visible";var d=jQuery(window).height(),u=jQuery(window).scrollTop(),o=jQuery(a).offset().top,e=jQuery(a).height();return"visible"===r?o<d+u&&o>u-e:"above"===r?o<d+u+20:void 0}function checkViewability(a){var r=jQuery(window).height(),d=jQuery(window).scrollTop(),u=jQuery("#admaru_anchor").offset().top,o=jQuery("#"+m_divid).height();return 0==a||d+r>u+o*a*.01&&d<u+o*(100-a)*.01}function showVideoAd(){jQuery("#"+admaru_c.u.V).css("-ms-filter",'"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"'),jQuery("#"+admaru_c.u.V).css("filter","alpha(opacity=1)"),jQuery("#"+admaru_c.u.V).css("-moz-opacity","1.0"),jQuery("#"+admaru_c.u.V).css("-khtml-opacity","1.0"),jQuery("#"+admaru_c.u.V).css("opacity","1.0"),jQuery("#"+admaru_c.u.V).css("display","block")}function hideVideoAd(){jQuery("#"+admaru_c.u.V).css("-ms-filter",'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"'),jQuery("#"+admaru_c.u.V).css("filter","alpha(opacity=0)"),jQuery("#"+admaru_c.u.V).css("-moz-opacity","0.0"),jQuery("#"+admaru_c.u.V).css("-khtml-opacity","0.0"),jQuery("#"+admaru_c.u.V).css("opacity","0.0")}function swapButtons(){admaru_c.u.played?(jQuery("#admaru_quit").css("display","none"),jQuery("#admaru_refresh").css("display","none")):(jQuery("#admaru_quit").css("display","block"),jQuery("#admaru_refresh").css("display","block"))}init(),admaru_c.u.tags=getTags(),requestAds(admaru_c.u.tags[admaru_c.u.l]),jQuery("#admaru_refresh").on("click",function(){admaru_c.u.l=0,admaru_c.u.P=admaru_c.u.P-3,requestAds(admaru_c.u.tags[admaru_c.u.l]),jQuery("#admaru_refresh").css("display","none")});